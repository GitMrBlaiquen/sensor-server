<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Panel de Contador de Personas - Tiendas</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <img src="logo.png" alt="logo" class="logo">
    <h1>Panel de personas en tiendas comerciales</h1>
    <p>Contador en tiempo real de entradas y salidas por tienda.</p>
  </header>

  <!-- PANEL DE LOGIN (pantalla inicial) -->
  <section class="login-panel" id="loginPanel">
    <h2>Iniciar sesiÃ³n</h2>

    <div class="login-card">
      <div class="input-group">
        <span class="input-icon">ðŸ‘¤</span>
        <input
          id="usernameInput"
          type="text"
          placeholder="Usuario"
        />
      </div>

      <div class="input-group">
        <span class="input-icon">ðŸ”’</span>
        <input
          id="passwordInput"
          type="password"
          placeholder="ContraseÃ±a"
        />
      </div>

      <button id="loginBtn">Entrar</button>
      <div id="loginStatus" class="login-status"></div>
    </div>
  </section>

  <!-- CONTENIDO PRINCIPAL (se muestra SOLO tras login) -->
  <main id="mainContent" style="display: none;">

    <!-- Barra de usuario: icono + nombre + rol + logout -->
    <section class="user-bar">
      <div class="user-left">
        <!-- app.js escribe aquÃ­: ðŸ‘¤ Vicente (Administrador) o ðŸ‘¤ Arrow (DueÃ±o) -->
        <span id="userInfo"></span>
      </div>
      <div class="user-right">
        <button id="logoutBtn" class="logout-btn">Cerrar sesiÃ³n</button>
      </div>
    </section>

    <!-- Selector de cliente (solo para administradores) -->
    <section class="client-selector" id="clientSelectorSection" style="display: none;">
      <h2>Seleccionar cliente</h2>
      <label>
        Cliente:
        <select id="clientSelect"></select>
      </label>
    </section>

    <!-- Selector de tienda -->
    <section class="store-selector" id="storeSelectorSection">
      <h2>Seleccionar tienda</h2>
      <label>
        Tienda:
        <select id="storeSelect"></select>
      </label>
    </section>

    <!-- Barra de control -->
    <section class="toolbar">
      <button id="refreshBtn">Actualizar ahora</button>
      <label>
        Auto-actualizar cada
        <select id="refreshInterval">
          <option value="0">No auto</option>
          <option value="5000">5 s</option>
          <option value="10000" selected>10 s</option>
          <option value="30000">30 s</option>
        </select>
      </label>
    </section>

    <!-- Panel principal: contador de personas -->
    <section id="sensorsContainer">
      <!-- AquÃ­ se mostrarÃ¡ el resumen de entradas / salidas / dentro -->
    </section>

    <!-- AVISO DE INACTIVIDAD / POP-UP -->
    <section id="sessionWarningModal" class="modal-overlay" style="display: none;">
      <div class="modal-box">
        <h2>SesiÃ³n inactiva</h2>
        <p>
          No se ha detectado actividad. SerÃ¡s desconectado en
          <strong><span id="countdownSeconds">60</span> segundos</strong>.
        </p>
        <div class="modal-actions">
          <button id="stayLoggedBtn">Seguir conectado</button>
          <button id="logoutNowBtn" class="logout-btn">Cerrar sesiÃ³n ahora</button>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <small>Proyecto creado por Vicente Becerra y Rodrigo Becerra â€“ Contador de Personas para Tiendas Comerciales</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
